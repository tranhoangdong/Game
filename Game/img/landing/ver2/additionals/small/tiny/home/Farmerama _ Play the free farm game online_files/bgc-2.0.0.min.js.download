window.log=function(){var r;log.history=log.history||[],log.history.push(arguments),this.console&&((r=arguments).callee=r.callee.caller,r=[].slice.call(r),"object"==typeof console.log?log.apply.call(console.log,console,r):console.log.apply(console,r))},window.jquery=jQuery.noConflict(!0),window.jquery(function(){function r(){}r.prototype.closeErrorOverlay=function(r){void 0!==r&&r.currentTarget!=r.target&&"keypress"!==r.type||(window.jquery(".bgcdw_errors_all_wrapper").fadeOut(),window.jquery(document).off("keypress"))},r.prototype.handleServerSideGeneratedErrors=function(){var r=window.jquery(".bgcdw_errors_all"),e="bgcdw_errors",o=(window.jquery(".bgc_signup_container input,.bgcdw_login_container input#fb-connect-login-form-container input").each(function(){var r=window.jquery(this);r.next("div").hasClass(e)&&r.addClass(e)}),window.jquery("div.bgcdw_errors:not([generated])").each(function(){var r=window.jquery(this),e=(r.attr("generated","true"),r.attr("for"));void 0!==e&&!1!==e||(e=r.prevAll("input").attr("id"),r.attr("for",e))}),1==window.jquery("ul",r).length&&window.jquery("ul li",r).last().css("margin-bottom","0"),this);window.jquery(".bgcdw_errors_all_close, .bgcdw_errors_all_wrapper").on("mouseup",o.closeErrorOverlay),window.jquery(document).on("keypress",function(r){27!=r.keyCode&&13!=r.keyCode||o.closeErrorOverlay(r)})},r.prototype.getErrorTranslation=function(r){return'<ul data-error="'+r+'"><li>'+window.jquery('.bgc_error_translations div[data-error-key="'+r+'"]').eq(0).text()+"</li></ul>"},r.prototype.getPasswordIndicatorTranslation=function(r){r="bgc.common.password_indicator."+r;return window.jquery('.bgc_password_indicator_translations div[data-complexity-key="'+r+'"]').text()},r.prototype.addFormPlaceholders=function(r){r=this.findForms(r);window.jquery("input",r).each(function(){var i,r=window.jquery(this).prev("label");window.jquery(this).attr("placeholder",r.text()),!1=="placeholder"in document.createElement("input")&&((i=window.jquery).extend(i,{placeholder:{browser_supported:function(){return void 0!==this._supported?this._supported:this._supported=!!("placeholder"in i('<input type="text">')[0])},shim:function(r){var e={cls:"placeholder-fallback",selector:"input[placeholder], textarea[placeholder]"};return i.extend(e,r),!this.browser_supported()&&i(e.selector)._placeholder_shim(e)}}}),i.extend(i.fn,{_placeholder_shim:function(n){function t(r){var e=i(r).offsetParent().offset(),o=i(r).offset();return{top:o.top-e.top,left:o.left-e.left,width:i(r).width()}}return this.each(function(){var r=i(this);if(r.is(":visible")){if(r.data("placeholder"))return r.data("placeholder").css(t(r)),!0;var e={},o=(r.is("textarea")||"auto"==r.css("height")||(e={lineHeight:r.css("height"),whiteSpace:"nowrap"}),i("<span />").text(r.attr("placeholder")).addClass(n.cls).css(i.extend({position:"absolute",display:"inline",float:"none",overflow:"hidden",textAlign:"left",cursor:"text",paddingTop:r.css("padding-top"),paddingRight:r.css("padding-right"),paddingBottom:r.css("padding-bottom"),paddingLeft:r.css("padding-left"),fontSize:r.css("font-size"),fontFamily:r.css("font-family"),fontStyle:r.css("font-style"),fontWeight:r.css("font-weight"),textTransform:r.css("text-transform"),backgroundColor:"transparent",zIndex:99},e)).css(t(this)).attr("for",this.id).data("target",r).click(function(){i(this).data("target").focus()}).insertBefore(this));r.data("placeholder",o).focus(function(){o.hide()}).blur(function(){o[r.val().length?"hide":"show"]()}).triggerHandler("blur"),i(window).one("resize",function(){!function r(e){var o=e.data("target");void 0!==o&&(e.css(t(o)),i(window).one("resize",function(){r(e)}))}(o)})}})}}),window.jquery.placeholder.shim())})},r.prototype.hideFormLabels=function(r){r=this.findForms(r);r.addClass("no-labels"),window.jquery("label",r).hide(),window.jquery(".bgc_signup_form_legal label").show()},r.prototype.findForms=function(r){switch(r){case"login":return window.jquery(".bgcdw_login_container");case"signup":return window.jquery("#bgc_signup_container");case"signupshort":return window.jquery("#bgc_signup_short_container");default:return window.jquery(r)}},window.jquery.validator.addMethod("notEqualTo",function(r,e,o){return this.optional(e)||r!=window.jquery(o).val()},"Username must be different from password."),window.jquery.validator.addMethod("noSpecialChars",function(r,e){return!(!this.optional(e)&&!1!==/[ <>@+'&%,?]/i.test(r))}),window.jquery.validator.addMethod("validDate",function(r,e){var o,r=r.split("."),n=parseInt(r[0],10),t=parseInt(r[1],10),r=parseInt(r[2],10);return(o=0<t&&t<13&&0<r&&r<32768&&0<n&&n<=new Date(r,t,0).getDate())&&(isInFuture=new Date(r,t-1,n)>new Date),this.optional(e)||o&&!isInFuture}),window.jquery.validator.addMethod("emailBgc",function(r,e){var o=new RegExp("^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(\\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9üäöÜÄÖ]([-_\\.]?[a-zA-Z0-9üäöÜÄÖ])+\\.[a-zA-Z]{2,}$");return this.optional(e)||o.test(r)}),window.jquery.validator.addMethod("notEqualToPlaceholder",function(r,e,o){e=window.jquery(e);return e.val()!==e.attr("placeholder")}),r.prototype.initFormValidation=function(){var a=this,a=(this.passwordIndicatorComplexityTranslations={very_low:this.getPasswordIndicatorTranslation("very_low"),low:this.getPasswordIndicatorTranslation("low"),normal:this.getPasswordIndicatorTranslation("normal"),high:this.getPasswordIndicatorTranslation("high")},window.jquery(".bgcdw_date_fields select").on("change",function(r){a.copyDateToHiddenField();var e=window.jquery(".bgc_signup_form").first().validate().element("#birthdateValidate"),o=window.jquery("#birthdateValidate").prevAll(".bgcdw_date_fields"),n="bgcdw_errors_date";!1===e?o.addClass(n):o.removeClass(n),window.jquery(".bgc_signup_form .bgcdw_date_fields").find(".bgcdw_errors").not('[generated="true"]').hide()}),window.jquery("#bgc_signup_container #bgc_signup_form_password").on("blur",function(r){setTimeout(function(){var r="#bgc_signup_form_passwordTwo";!1===window.jquery(document.activeElement).is(r)&&window.jquery(".bgc_signup_form").first().validate().element(r)})}),this),a=(window.jquery(".bgcdw_login_form").each(function(){window.jquery(this).validate({errorClass:"bgcdw_errors",errorElement:"div",onkeyup:function(r){r=window.jquery(r);r.hasClass(this.settings.errorClass)&&r.valid()},onfocusout:!1,rules:{username:{required:!0,notEqualToPlaceholder:!0},password:{required:!0,notEqualToPlaceholder:!0}},messages:{username:{required:a.getErrorTranslation("bgc.error.username_notGiven"),notEqualToPlaceholder:a.getErrorTranslation("bgc.error.username_notGiven")},password:{required:a.getErrorTranslation("bgc.error.password_notGiven"),notEqualToPlaceholder:a.getErrorTranslation("bgc.error.password_notGiven")}},submitHandler:function(r){window.jquery('.bgcdw_login_form_login[type="submit"]').attr("disabled","disabled"),r.submit()}})}),window.jquery(".bgc_password_indicator").hide(),window.jquery(".bgc_signup_form").first().validate({errorClass:"bgcdw_errors",errorElement:"div",ignore:"",onkeyup:function(r){var e,n=this,t=window.jquery(r),i="#bgc_signup_form_password_indicator",r=("password"===t.attr("name")&&t.complexify({minimumChars:4,strengthScaleFactor:.65},function(r,e){var o;r||n.element("#bgc_signup_form_password"),0===t.val().length?window.jquery(i).hide():(o=(r=e/100)<.5?1:2*(1-r),r=.5<r?1:2*r,window.jquery(i).show(),window.jquery("#bgc_signup_form_password_indicator .progress").css({width:e+"%",background:"rgb("+255*o+", "+255*r+", 63.75)"}),o="very_low",80<=e?o="high":60<=e?o="normal":40<=e&&(o="low"),window.jquery("#bgc_signup_form_password_indicator .status").text(a.passwordIndicatorComplexityTranslations[o]))}),t.hasClass(this.settings.errorClass)&&t.valid(),window.jquery("#bgc_signup_form_passwordTwo"));"password"==t.attr("name")&&0<r.length&&(e=r.rules(),r.rules("remove"),r.val(""),r.valid(),r.rules("add",e))},onfocusout:function(r){var e=window.jquery(r),o="#bgc_signup_form_password";"username"===e.attr("name")&&""!==e.val()&&e.val()===window.jquery(o).val()&&this.element(o),this.element(r)},rules:{username:{required:!0,noSpecialChars:!0},password:{required:!0,notEqualTo:"#bgc_signup_form_username"},passwordTwo:{equalTo:"#bgc_signup_form_password"},birthdateValidate:{validDate:!0},email:{email:!1,emailBgc:!0,required:!0},termsAndConditions:{required:!0},recaptcha_response_field:{required:!0}},messages:{username:{required:this.getErrorTranslation("bgc.error.username_notGiven"),minlength:this.getErrorTranslation("bgc.error.username_isTooShort"),noSpecialChars:this.getErrorTranslation("bgc.error.username_containsInvalidCharacters")},password:{required:this.getErrorTranslation("bgc.error.password_notGiven"),minlength:this.getErrorTranslation("bgc.error.password_isTooShort"),notEqualTo:this.getErrorTranslation("bgc.error.password_matchesUsername")},passwordTwo:{equalTo:this.getErrorTranslation("bgc.error.password_repeatDoesNotMatch")},email:{required:this.getErrorTranslation("bgc.error.email_notGiven"),emailBgc:this.getErrorTranslation("bgc.error.email_invalidAddress")},birthdateValidate:{validDate:this.getErrorTranslation("bgc.error.birthday_invalidDate")},termsAndConditions:{required:this.getErrorTranslation("bgc.error.termsAndConditions_notAccepted")},recaptcha_response_field:{required:this.getErrorTranslation("bgc.error.captcha_incorrect")}},submitHandler:function(r){window.jquery('.bgc_signup_form_register[type="submit"]').attr("disabled","disabled"),r.submit()}}),window.jquery(".bgc_fbSignup_form").first().validate({errorClass:"bgcdw_errors",errorElement:"div",ignore:"",onkeyup:function(r){r=window.jquery(r);r.hasClass(this.settings.errorClass)&&r.valid()},rules:{username:{required:!0,minlength:4,noSpecialChars:!0}},messages:{username:{required:this.getErrorTranslation("bgc.error.username_notGiven"),minlength:this.getErrorTranslation("bgc.error.username_isTooShort"),noSpecialChars:this.getErrorTranslation("bgc.error.username_containsInvalidCharacters")}},submitHandler:function(r){window.jquery('.bgc_fbSignup_form_signup[type="submit"]').attr("disabled","disabled"),r.submit()}}),this);window.jquery(".bgc_fbConnect_form").each(function(){window.jquery(this).validate({errorClass:"bgcdw_errors",errorElement:"div",onkeyup:function(r){r=window.jquery(r);r.hasClass(this.settings.errorClass)&&r.valid()},rules:{username:{required:!0,notEqualToPlaceholder:!0},password:{required:!0,notEqualToPlaceholder:!0}},messages:{username:{required:a.getErrorTranslation("bgc.error.username_notGiven"),notEqualToPlaceholder:a.getErrorTranslation("bgc.error.username_notGiven")},password:{required:a.getErrorTranslation("bgc.error.password_notGiven"),notEqualToPlaceholder:a.getErrorTranslation("bgc.error.password_notGiven")}},submitHandler:function(r){window.jquery('.bgc_fbConnect_form_connect[type="submit"]').attr("disabled","disabled"),r.submit()}})})},r.prototype.copyDateToHiddenField=function(){var r=window.jquery('select[name="birthdateDay"]').val()+"."+window.jquery('select[name="birthdateMonth"]').val()+"."+window.jquery('select[name="birthdateYear"]').val();window.jquery("#birthdateValidate").val(r)},r.prototype.enhanceFacebookForms=function(){var e=this,e=(this.activateForm=function(r){$formActive=window.jquery(r),$formSiblings=$formActive.siblings(),e.hideForms($formSiblings),e.showForm($formActive)},this.showForm=function(r){r.removeClass("bgc_fbconnect_disabled"),r.children().not("span, div.bgcdw_errors ul").animate({opacity:1},200),window.jquery('input[type="submit"]',r).fadeIn()},this.hideForms=function(r){r.addClass("bgc_fbconnect_disabled"),r.children().not("span, div.bgcdw_errors ul").animate({opacity:.3},200),window.jquery('input[type="submit"]',r).fadeOut(),window.jquery('input[type="password"]',r).val(""),window.jquery('input[type="text"]',r).val(""),0<r.find("form").length&&(r.find("form").validate().resetForm(),r.find(".bgcdw_errors_flash").remove())},this);0<window.jquery('.bgc_fbconnect_link div[class^="bgcdw_errors"]').length&&e.activateForm(window.jquery(".bgc_fbconnect_link")),0<window.jquery('.bgc_fbconnect_signup div[class^="bgcdw_errors"]').length&&e.activateForm(window.jquery(".bgc_fbconnect_signup")),window.jquery("#bgc_fbconnect_wrapper .bgcdw_errors_flash").each(function(){var r=window.jquery(this).parentsUntil("#bgc_fbconnect_wrapper").last();window.jquery(this).appendTo(r)}),window.jquery("#bgc_fbconnect_wrapper > div,#bgc_fbconnect_wrapper input").on("click focus",function(r){"click"===r.type?e.activateForm(window.jquery(this)):e.activateForm(window.jquery(this).parentsUntil("#bgc_fbconnect_wrapper").last())})},r.prototype.preventMultipleFbConnectClicks=function(){window.jquery(".bgc_fbConnect_container_link .bgc_fbConnect").on("click",function(){var r=window.jquery(this).attr("href");window.jquery(this).attr("href","javascript: void(0)"),window.location=r})},r.prototype.configuration={config:[],getConfig:function(r){return window.jquery("#bgc_sasform_config_"+r).attr("value")},setConfig:function(r,e){window.jquery("#bgc_sasform_config_"+r).val(e)},splitSelectors:function(r){return r.split(/[ ,]+/)},load:function(){var o=[];return window.jquery("input","#bgc_sasform_config").each(function(){var r=window.jquery(this),e=r.val();"true"===e?e=!0:"false"===e&&(e=!1),o[r.attr("name")]=e}),o}};var e,o=new r,n=(o.initFormValidation(),o.copyDateToHiddenField(),o.configuration.load());if("hidelabels"in n){var t=o.configuration.splitSelectors(n.hidelabels);for(i in t)o.hideFormLabels(t[i])}if("placeholder"in n){var a=o.configuration.splitSelectors(n.placeholder);for(i in a)o.addFormPlaceholders(a[i])}"errors-login"in n&&"popup"===n["errors-login"]&&0<(e=window.jquery(".bgcdw_login_container .bgcdw_errors_flash")).length&&(e.hide(),window.jquery(".bgcdw_errors_all_wrapper").show()),"errors-signup"in n&&"popup"===n["errors-signup"]&&0<(e=window.jquery("#bgc_signup_container .bgcdw_errors_flash, #bgc_signup_container div.bgcdw_errors")).length&&(e.hide(),window.jquery(".bgcdw_errors_all_wrapper").show()),"errors-facebook"in n&&"popup"===n["errors-facebook"]&&0<(e=window.jquery(".bgc_fbconnect_link .bgcdw_errors_flash, .bgc_fbconnect_signup div.bgcdw_errors")).length&&(e.hide(),window.jquery(".bgcdw_errors_all_wrapper").show()),o.handleServerSideGeneratedErrors(),o.preventMultipleFbConnectClicks(),o.enhanceFacebookForms()});